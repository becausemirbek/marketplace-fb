(this["webpackJsonpreact-app-template"]=this["webpackJsonpreact-app-template"]||[]).push([[22],{314:function(e,t,a){"use strict";function r(e,t,a,r,n,l,i){try{var s=e[l](i),o=s.value}catch(u){return void a(u)}s.done?t(o):Promise.resolve(o).then(r,n)}function n(e){return function(){var t=this,a=arguments;return new Promise((function(n,l){var i=e.apply(t,a);function s(e){r(i,n,l,s,o,"next",e)}function o(e){r(i,n,l,s,o,"throw",e)}s(void 0)}))}}a.d(t,"a",(function(){return n}))},638:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a.n(r),l=a(314),i=a(27),s=a(28),o=a(30),u=a(29),c=a(0),d=a.n(c),v=a(161),m=a(142),p=a(162),h=a(149),f=a(242),y=a(244),b=a(130),g=a(158),x=a(12),E=a.n(x),w=a(15),k=a(92),A=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={err:null},e.handleValidSubmit=function(){var t=Object(l.a)(n.a.mark((function t(a,r){var l,i,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=new k.a,t.prev=1,t.next=4,E.a.post("".concat(w.a,"/auth/rest-auth/registration/"),r);case 4:i=t.sent,s=i.data,l.set("user",JSON.stringify({token:s.key})),e.props.history.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.setState({err:t.t0.response});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(s.a)(a,[{key:"render",value:function(){var e,t,a,r,n,l,i,s,o,u,c,x;return console.log(this.state.err),d.a.createElement("div",null,d.a.createElement(v.a,null,d.a.createElement(m.a,{className:"justify-content-center align-items-center",style:{minHeight:"80vh"}},d.a.createElement(p.a,{md:6,xs:12},d.a.createElement(h.a,{className:"my-2",style:{boxShadow:"-5px 9px 22px -2px #ddd4d4"}},d.a.createElement(f.a,null,(null===(e=this.state)||void 0===e||null===(t=e.err)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.non_field_errors)||(null===(r=this.state)||void 0===r||null===(n=r.err)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.username)&&d.a.createElement(y.a,{color:"danger"},(null===(i=this.state)||void 0===i||null===(s=i.err)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.non_field_errors)||(null===(u=this.state)||void 0===u||null===(c=u.err)||void 0===c||null===(x=c.data)||void 0===x?void 0:x.username)),d.a.createElement(b.AvForm,{onValidSubmit:this.handleValidSubmit},d.a.createElement(b.AvField,{name:"username",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0418\u043c\u044f \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",type:"text",validate:{required:{value:!0},pattern:{value:"^[A-Za-z0-9]+$",errorMessage:""}}}),d.a.createElement(b.AvField,{name:"email",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 Email",type:"text",validate:{required:{value:!0},email:{value:!0}}}),d.a.createElement(b.AvField,{name:"password1",label:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"text",validate:{required:{value:!0,errorMessage:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"},minLength:{value:8,errorMessage:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 8 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"},maxLength:{value:16,errorMessage:"\u0412\u0430\u0448\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043c\u0435\u0436\u0434\u0443 8 \u0438 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 "}}}),d.a.createElement(b.AvField,{name:"password2",type:"text",label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",errorMessage:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442",validate:{required:{value:!0},minLength:{value:8},maxLength:{value:16},match:{value:"password1"}}}),d.a.createElement(g.a,{className:"w-100",color:"info"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u0441\u044f"))))))))}}]),a}(c.Component);t.default=A}}]);
//# sourceMappingURL=22.c455815c.chunk.js.map